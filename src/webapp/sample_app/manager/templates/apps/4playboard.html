<!DOCTYPE html>
<html>
    <head>
        
        <title>
            4 qubit device
        </title>
        <link href="https://fonts.googleapis.com/css?family=Bitter:400,700" rel="stylesheet">
        {% load static %}
        <link href="{% static 'apps/style_othello.css' %}" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.4.0/fabric.min.js"></script>
        <!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> -->
        <!-- <script type="text/javascript" src="js/jquery-ui-1.8.18.custom.min.js"></script> -->
        <!-- <script type="text/javascript"> -->
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js" type="text/javascript"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

        <meta charset="utf-8">
    </head>
    <body>
        <h1>
            4node test
        </h1>
        <div id="dragitemlist">
                <ul class="draglist">
                <li><span class="dragparts"><a href="#"><img src="{% static 'images/Hgate.png'%}"  alt="" /></a></span></li>
                <li><span class="dragparts"><a href="#"><img src="{% static 'images/Xgate.png'%}"  alt="" /></a></span></li>
                <li><span class="dragparts"><a href="#"><img src="{% static 'images/Zgate.png'%}"  alt="" /></a></span></li>
                <li><span class="dragparts"><a href="#"><img src="{% static 'images/HXgate.png'%}" alt="" /></a></span></li>
                <li><span class="dragparts"><a href="#"><img src="{% static 'images/CXgate.png'%}" alt="" /></a></span></li>
                <li><span class="dragparts"><a href="#"><img src="{% static 'images/CZgate.png'%}" alt="" /></a></span></li>
                </ul>
                </div><!--/#draglist-->
                 
                <!-- <div id="droparea"></div> -->
                 
                <!-- <div id="actionarea"> -->
                    <!-- <a href="javascript:void(0);" id="allselect">>all select</a> | <a href="javascript:void(0);" id="listclear">>all clear</a> -->
                <!-- </div>/#actionarea -->
        <table border='1' width=500 height=500>
            <tr>
                <th>
                    <form id='1qubit'>
                        <select name="state">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="p">+</option>
                            <option value="m">-</option>
                        </select>
                    </form>
                </th>
                <th>
                    <form id='2qubit'>
                            <select name="state">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="p">+</option>
                                <option value="m">-</option>
                            </select>
                    </form>
                </th>
            </tr>
            <tr>
                <td>
                    <form id='3qubit'>
                            <select name="state">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="p">+</option>
                                <option value="m">-</option>
                            </select>
                    </form>
                </td>
                <td>
                    <form id='4qubit'>
                            <select name="state">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="p">p</option>
                                <option value="m">m</option>
                            </select>
                    </form>
                </td>
            </tr>
        </table>
        <input type="button" value="Start" onclick="gamestart()"/>
        <form name="name_form" action="ajax" method="POST" enctype="multipart">
            {% csrf_token%}
        <button type="submit" id="submit" class="btn">post!</button>
        </form>
        
            <span id="id_div_ajax_response">
              AJAX RESPONSE
            </span>

        <script type="text/javascript">
            function gamestart(){
                var $qubit1 = $('#1qubit [name=state]').val();
                var $qubit2 = $('#2qubit [name=state]').val();
                var $qubit3 = $('#3qubit [name=state]').val();
                var $qubit4 = $('#4qubit [name=state]').val();
            }

            $("form").submit( function(event) {
                var base64 = canvas.toDataURL('image/png');
                var fData = new FormData()
                fData.append('img', base64);
                event.preventDefault();
                var form = $(this);
                $.ajax({
                url: form.prop("action"),
                method:form.prop("method"),
                data: fData, 
                contentType: false,
                processData: false,
                success: function(data, dataType){
                console.log('Success', data);
                },
                error: function(XMLHttpRequest, textStatus, errorThrown){
                console.log('Error :' + errorThrown)
                }})
                .done( function(data) {
                alert(data);
                $("#id_div_ajax_response").text(data);
                })
            });

            // $(function(){
            //     $('ul.draglist li').each(function(i){
                
            //         // 制御用ナンバリング追加
            //         $(this).attr('id','list' + (i + 1).toString());
            //         $(this).children('span').attr('id','item' + (i + 1).toString());
                
            //         $(this).attr('rel',(i + 1).toString());
            //         $(this).children('span').attr('rel',(i + 1).toString());
                
            //         $(this).addClass('disposition');
                
            //         // 暗転画像クローン生成
            //         var imgClone = $(this).children('.dragparts').children('a').html();
            //         $(this).prepend('<span class="imgblank">' + (imgClone) + '</span>');
            //         $('.imgblank').css({top:'0',left:'0',position:'absolute',opacity:'0.2'});
                
            //         // 「.dragparts」をドラッグ
            //         dragParts();
            //         function dragParts(){
            //             $('.dragparts,.dragparts_drop').draggable({
            //                 revert:'invalid',
            //                 zIndex:'1000'
            //             });
            //         }
                
            //         // 「#droparea」エリアにドロップされた時の処理
            //         $('#droparea').droppable({
            //             accept: '.dragparts',
            //             tolerance: 'touch',
            //             hoverClass: "areahover",
            //             activate: function(ev, ui){
            //                 var pos = ui.position;
            //             },
            //             drop: function(ev, ui){
            //                 ui.draggable.prependTo(this).removeClass('dragparts').addClass('dragparts_drop').css({top:'0',left:'0'});
            //                 dragParts();
            //             }
            //         });
                
            //         // 「#dragitemlist」エリアにドロップされた時の処理
            //         $('#dragitemlist').droppable({
            //             accept: '.dragparts_drop',
            //             tolerance: 'touch',
            //             drop: function(ev, ui){
            //                 var thisRel = ui.draggable.attr('rel');
            //                 var adjustRel = thisRel-1;
            //                 $('.disposition').eq(adjustRel).each(function(){
            //                     ui.draggable.appendTo(this).removeClass('dragparts_drop').addClass('dragparts').css({top:'0',left:'0'});
            //                     dragParts();
            //                 });
            //             }
            //         });
                
            //         var connectCont = $('ul.draglist li').index(this);
            //         var numCont = connectCont+1;
                
            //         // 「すべて選択」処理
            //         $('#allselect').click(function(){
            //             $('ul.draglist .dragparts').appendTo('#droparea').removeClass('dragparts').addClass('dragparts_drop');
            //         });
                
            //         // 「選択クリア」処理
            //         $('#listclear').click(function(){
            //             $('#item'+numCont).each(function(){
            //                 var thisHTML = $(this);
            //                 $('#list'+(numCont)).append(thisHTML);
            //                 $('.dragparts_drop').addClass('dragparts').removeClass('dragparts_drop');
            //             });
            //         });
            //     });
            // });
            </script>
    </body>
</html>